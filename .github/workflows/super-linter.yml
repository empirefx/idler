name: Lint
"on":
  push:
    branches:
      - main
    paths-ignore:
      - super-linter-output/**
  pull_request:
    branches:
      - main
permissions:
  contents: read
jobs:
  build:
    name: Lint
    runs-on: ubuntu-latest
    permissions:
      contents: write
      statuses: write
    steps:
      - name: Checkout code
        uses: actions/checkout@de0fac2e4500dabe0009e67214ff5f5447ce83dd
        with:
          fetch-depth: 0
          token: "${{ secrets.SUPER_LINTER_TOKEN }}"
          persist-credentials: true
      - name: Super-linter
        uses: super-linter/super-linter@61abc07d755095a68f4987d1c2c3d1d64408f1f9
        env:
          LINTER_RULES_PATH: .
          GITHUB_TOKEN: "${{ secrets.GITHUB_TOKEN }}"
          FIX_BIOME_FORMAT: true
          FIX_BIOME_LINT: true
          BIOME_MAX_DIAGNOSTICS: 100
          VALIDATE_CSS_PRETTIER: false
          VALIDATE_HTML_PRETTIER: false
          VALIDATE_JAVASCRIPT_PRETTIER: false
          VALIDATE_JSON_PRETTIER: false
          VALIDATE_TYPESCRIPT_PRETTIER: false
          VALIDATE_GRAPHQL_PRETTIER: false
          VALIDATE_JSX: false
          VALIDATE_TSX: false
          VALIDATE_VUE: false
          VALIDATE_JSON: false
          VALIDATE_JSONC: false
          VALIDATE_JSON5: false
          VALIDATE_JAVASCRIPT_ES: false
          VALIDATE_TYPESCRIPT_ES: false
          VALIDATE_CSS: false
          VALIDATE_JSX_PRETTIER: false
          VALIDATE_VUE_PRETTIER: false
          VALIDATE_JSONC_PRETTIER: false
          VALIDATE_JSON5_PRETTIER: false
          FIX_SHELL_SHFMT: true
          FIX_SPELL_CODESPELL: true
          FIX_GITHUB_ACTIONS_ZIZMOR: true
          FIX_YAML_PRETTIER: true
          VALIDATE_PYTHON_RUFF: false
          VALIDATE_PYTHON_BLACK: false
          VALIDATE_GIT_COMMITLINT: false
          SAVE_SUPER_LINTER_SUMMARY: true
      - name: Apply Biome fixes
        run: npx @biomejs/biome check --apply src/
      - name: Commit and push linting fixes
        if: always()
        uses: >-
          stefanzweifel/git-auto-commit-action@04702edda442b2e678b25b537cec683a1493fcb9
        with:
          commit_message: "chore: fix linting issues"
          commit_user_name: super-linter
          commit_user_email: super-linter@super-linter.dev
